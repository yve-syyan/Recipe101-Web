{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lepan\\\\Desktop\\\\CIS550-Project\\\\final project\\\\client\\\\src\\\\components\\\\Login.js\";\n\n/* eslint-disable jsx-a11y/label-has-associated-control */\n\n/* eslint-disable no-console */\n\n/* eslint-disable react/destructuring-assignment */\nimport Button from \"@material-ui/core/Button\"; // eslint-disable-next-line no-unused-vars\n\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nexport default class Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: \"\",\n      password: \"\"\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleInputChange = this.handleInputChange.bind(this);\n  }\n\n  async handleSubmit(e) {\n    const {\n      handleLogin\n    } = this.props;\n    e.preventDefault();\n\n    if (this.state.username.length !== 0 && this.state.password.length !== 0) {\n      if (document.getElementById(\"loginErrorMessage\") !== null) {\n        document.getElementById(\"loginErrorMessage\").setAttribute(\"style\", \"display: none;\");\n      }\n\n      const requestOptions = {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          username: this.state.username,\n          password: this.state.password\n        })\n      };\n      console.log(requestOptions);\n      await fetch(\"http://localhost:8080/login\", requestOptions).then(res => {\n        console.log(res.status);\n\n        if (res.status === 200) {\n          const loginMessage = document.createElement(\"p\");\n          loginMessage.innerHTML = \"Hello!\";\n          loginMessage.setAttribute(\"id\", \"loginMessage\");\n          loginMessage.setAttribute(\"style\", \"color: green;\");\n          const login = document.getElementById(\"login\");\n          login.appendChild(loginMessage);\n          localStorage.setItem(\"user\", `${this.state.username}`);\n          handleLogin(\"tokens\"); // document.getElementById(\"loginMessage\").remove();\n        } else {\n          let loginErrorMessage = null;\n\n          if (document.getElementById(\"loginErrorMessage\") === null) {\n            loginErrorMessage = document.createElement(\"p\");\n            loginErrorMessage.innerHTML = \"Your username or password is incorrect\";\n            loginErrorMessage.setAttribute(\"id\", \"loginErrorMessage\");\n            loginErrorMessage.setAttribute(\"style\", \"color: red;\");\n            const login = document.getElementById(\"login\");\n            login.appendChild(loginErrorMessage);\n          } else {\n            document.getElementById(\"loginErrorMessage\").setAttribute(\"style\", \"display: inline; color: red \");\n          }\n        }\n      }).catch(() => {\n        console.log(\"Unable to connect to server\");\n      });\n    }\n  }\n\n  handleInputChange(e) {\n    e.preventDefault(); // console.log(e.target.value);\n\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  render() {\n    const {\n      username,\n      password\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"header\", {\n      id: \"App-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"RegisterDiv\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"loginMain\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"login\",\n      id: \"login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"fname\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 15\n      }\n    }, \"Username :\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"LoginUsername\",\n      className: \"loginEle\",\n      name: \"username\",\n      value: username,\n      onChange: this.handleInputChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"fname\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 15\n      }\n    }, \"Password :\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      id: \"loginPassword\",\n      className: \"loginEle\",\n      name: \"password\",\n      value: password,\n      onChange: this.handleInputChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      onClick: this.handleSubmit,\n      type: \"button\",\n      id: \"loginButton\",\n      className: \"loginEle\",\n      color: \"primary\",\n      size: \"large\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 13\n      }\n    }, \"Login In\")), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"JumpLink\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 13\n      }\n    }, \" Or you could \"), /*#__PURE__*/React.createElement(Link, {\n      to: \"/register\",\n      id: \"loginLink\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 13\n      }\n    }, \" \", \"register now!\"))));\n  }\n\n}\nLogin.propTypes = {\n  handleLogin: PropTypes.func.isRequired\n};","map":{"version":3,"sources":["C:/Users/lepan/Desktop/CIS550-Project/final project/client/src/components/Login.js"],"names":["Button","React","Component","Link","PropTypes","Login","constructor","props","state","username","password","handleSubmit","bind","handleInputChange","e","handleLogin","preventDefault","length","document","getElementById","setAttribute","requestOptions","method","headers","body","JSON","stringify","console","log","fetch","then","res","status","loginMessage","createElement","innerHTML","login","appendChild","localStorage","setItem","loginErrorMessage","catch","setState","target","name","value","render","propTypes","func","isRequired"],"mappings":"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","sourcesContent":["/* eslint-disable jsx-a11y/label-has-associated-control */\r\n/* eslint-disable no-console */\r\n/* eslint-disable react/destructuring-assignment */\r\nimport Button from \"@material-ui/core/Button\";\r\n// eslint-disable-next-line no-unused-vars\r\nimport React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default class Login extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      username: \"\",\r\n      password: \"\",\r\n    };\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleInputChange = this.handleInputChange.bind(this);\r\n  }\r\n\r\n  async handleSubmit(e) {\r\n    const { handleLogin } = this.props;\r\n    e.preventDefault();\r\n\r\n    if (this.state.username.length !== 0 && this.state.password.length !== 0) {\r\n      if (document.getElementById(\"loginErrorMessage\") !== null) {\r\n        document\r\n          .getElementById(\"loginErrorMessage\")\r\n          .setAttribute(\"style\", \"display: none;\");\r\n      }\r\n\r\n      const requestOptions = {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          username: this.state.username,\r\n          password: this.state.password,\r\n        }),\r\n      };\r\n\r\n      console.log(requestOptions);\r\n\r\n      await fetch(\"http://localhost:8080/login\", requestOptions)\r\n        .then((res) => {\r\n          console.log(res.status);\r\n          if (res.status === 200) {\r\n            const loginMessage = document.createElement(\"p\");\r\n            loginMessage.innerHTML = \"Hello!\";\r\n            loginMessage.setAttribute(\"id\", \"loginMessage\");\r\n            loginMessage.setAttribute(\"style\", \"color: green;\");\r\n            const login = document.getElementById(\"login\");\r\n            login.appendChild(loginMessage);\r\n            localStorage.setItem(\"user\", `${this.state.username}`);\r\n            handleLogin(\"tokens\");\r\n\r\n\r\n            // document.getElementById(\"loginMessage\").remove();\r\n          } else {\r\n            let loginErrorMessage = null;\r\n            if (document.getElementById(\"loginErrorMessage\") === null) {\r\n              loginErrorMessage = document.createElement(\"p\");\r\n              loginErrorMessage.innerHTML =\r\n                \"Your username or password is incorrect\";\r\n              loginErrorMessage.setAttribute(\"id\", \"loginErrorMessage\");\r\n              loginErrorMessage.setAttribute(\"style\", \"color: red;\");\r\n              const login = document.getElementById(\"login\");\r\n              login.appendChild(loginErrorMessage);\r\n            } else {\r\n              document\r\n                .getElementById(\"loginErrorMessage\")\r\n                .setAttribute(\"style\", \"display: inline; color: red \");\r\n            }\r\n          }\r\n        })\r\n        .catch(() => {\r\n          console.log(\"Unable to connect to server\");\r\n        });\r\n    }\r\n  }\r\n\r\n  handleInputChange(e) {\r\n    e.preventDefault();\r\n    // console.log(e.target.value);\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  }\r\n\r\n  render() {\r\n    const { username, password } = this.state;\r\n    return (\r\n      <div>\r\n        <header id=\"App-header\" />\r\n        <div id=\"RegisterDiv\" />\r\n        <div className=\"loginMain\">\r\n          <div className=\"login\" id=\"login\">\r\n            <div>\r\n              <label htmlFor=\"fname\">Username :</label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"LoginUsername\"\r\n                className=\"loginEle\"\r\n                name=\"username\"\r\n                value={username}\r\n                onChange={this.handleInputChange}\r\n              />\r\n            </div>\r\n            <div>\r\n              <label htmlFor=\"fname\">Password :</label>\r\n\r\n              <input\r\n                type=\"password\"\r\n                id=\"loginPassword\"\r\n                className=\"loginEle\"\r\n                name=\"password\"\r\n                value={password}\r\n                onChange={this.handleInputChange}\r\n              />\r\n            </div>\r\n\r\n            <Button\r\n              onClick={this.handleSubmit}\r\n              type=\"button\"\r\n              id=\"loginButton\"\r\n              className=\"loginEle\"\r\n              color=\"primary\"\r\n              size=\"large\"\r\n            >\r\n              Login In\r\n            </Button>\r\n          </div>\r\n          <div id=\"JumpLink\">\r\n            <span> Or you could </span>\r\n            <Link to=\"/register\" id=\"loginLink\">\r\n              {\" \"}\r\n              register now!\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nLogin.propTypes = {\r\n  handleLogin: PropTypes.func.isRequired,\r\n};\r\n"]},"metadata":{},"sourceType":"module"}