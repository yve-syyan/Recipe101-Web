{"ast":null,"code":"/**\r\n * Copyright (c) 2013-present, Facebook, Inc.\r\n * All rights reserved.\r\n *\r\n * This source code is licensed under the BSD-style license found in the\r\n * LICENSE file in the root directory of this source tree. An additional grant\r\n * of patent rights can be found in the PATENTS file in the same directory.\r\n *\r\n * @providesModule encodeInlineStyleRanges\r\n * @format\r\n * \r\n */\n'use strict';\n\nvar UnicodeUtils = require('fbjs/lib/UnicodeUtils');\n\nvar findRangesImmutable = require('./findRangesImmutable');\n\nvar areEqual = function areEqual(a, b) {\n  return a === b;\n};\n\nvar isTruthy = function isTruthy(a) {\n  return !!a;\n};\n\nvar EMPTY_ARRAY = [];\n/**\r\n * Helper function for getting encoded styles for each inline style. Convert\r\n * to UTF-8 character counts for storage.\r\n */\n\nfunction getEncodedInlinesForType(block, styleList, styleToEncode) {\n  var ranges = []; // Obtain an array with ranges for only the specified style.\n\n  var filteredInlines = styleList.map(function (style) {\n    return style.has(styleToEncode);\n  }).toList();\n  findRangesImmutable(filteredInlines, areEqual, // We only want to keep ranges with nonzero style values.\n  isTruthy, function (start, end) {\n    var text = block.getText();\n    ranges.push({\n      offset: UnicodeUtils.strlen(text.slice(0, start)),\n      length: UnicodeUtils.strlen(text.slice(start, end)),\n      style: styleToEncode\n    });\n  });\n  return ranges;\n}\n/*\r\n * Retrieve the encoded arrays of inline styles, with each individual style\r\n * treated separately.\r\n */\n\n\nfunction encodeInlineStyleRanges(block) {\n  var styleList = block.getCharacterList().map(function (c) {\n    return c.getStyle();\n  }).toList();\n  var ranges = styleList.flatten().toSet().map(function (style) {\n    return getEncodedInlinesForType(block, styleList, style);\n  });\n  return Array.prototype.concat.apply(EMPTY_ARRAY, ranges.toJS());\n}\n\nmodule.exports = encodeInlineStyleRanges;","map":{"version":3,"sources":["C:/Users/lepan/Desktop/CIS550-Project/final project/client/node_modules/draft-js/lib/encodeInlineStyleRanges.js"],"names":["UnicodeUtils","require","findRangesImmutable","areEqual","a","b","isTruthy","EMPTY_ARRAY","getEncodedInlinesForType","block","styleList","styleToEncode","ranges","filteredInlines","map","style","has","toList","start","end","text","getText","push","offset","strlen","slice","length","encodeInlineStyleRanges","getCharacterList","c","getStyle","flatten","toSet","Array","prototype","concat","apply","toJS","module","exports"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAEA,IAAIA,YAAY,GAAGC,OAAO,CAAC,uBAAD,CAA1B;;AAEA,IAAIC,mBAAmB,GAAGD,OAAO,CAAC,uBAAD,CAAjC;;AAEA,IAAIE,QAAQ,GAAG,SAASA,QAAT,CAAkBC,CAAlB,EAAqBC,CAArB,EAAwB;AACrC,SAAOD,CAAC,KAAKC,CAAb;AACD,CAFD;;AAGA,IAAIC,QAAQ,GAAG,SAASA,QAAT,CAAkBF,CAAlB,EAAqB;AAClC,SAAO,CAAC,CAACA,CAAT;AACD,CAFD;;AAGA,IAAIG,WAAW,GAAG,EAAlB;AAEA;AACA;AACA;AACA;;AACA,SAASC,wBAAT,CAAkCC,KAAlC,EAAyCC,SAAzC,EAAoDC,aAApD,EAAmE;AACjE,MAAIC,MAAM,GAAG,EAAb,CADiE,CAGjE;;AACA,MAAIC,eAAe,GAAGH,SAAS,CAACI,GAAV,CAAc,UAAUC,KAAV,EAAiB;AACnD,WAAOA,KAAK,CAACC,GAAN,CAAUL,aAAV,CAAP;AACD,GAFqB,EAEnBM,MAFmB,EAAtB;AAIAf,EAAAA,mBAAmB,CAACW,eAAD,EAAkBV,QAAlB,EACnB;AACAG,EAAAA,QAFmB,EAET,UAAUY,KAAV,EAAiBC,GAAjB,EAAsB;AAC9B,QAAIC,IAAI,GAAGX,KAAK,CAACY,OAAN,EAAX;AACAT,IAAAA,MAAM,CAACU,IAAP,CAAY;AACVC,MAAAA,MAAM,EAAEvB,YAAY,CAACwB,MAAb,CAAoBJ,IAAI,CAACK,KAAL,CAAW,CAAX,EAAcP,KAAd,CAApB,CADE;AAEVQ,MAAAA,MAAM,EAAE1B,YAAY,CAACwB,MAAb,CAAoBJ,IAAI,CAACK,KAAL,CAAWP,KAAX,EAAkBC,GAAlB,CAApB,CAFE;AAGVJ,MAAAA,KAAK,EAAEJ;AAHG,KAAZ;AAKD,GATkB,CAAnB;AAWA,SAAOC,MAAP;AACD;AAED;AACA;AACA;AACA;;;AACA,SAASe,uBAAT,CAAiClB,KAAjC,EAAwC;AACtC,MAAIC,SAAS,GAAGD,KAAK,CAACmB,gBAAN,GAAyBd,GAAzB,CAA6B,UAAUe,CAAV,EAAa;AACxD,WAAOA,CAAC,CAACC,QAAF,EAAP;AACD,GAFe,EAEbb,MAFa,EAAhB;AAGA,MAAIL,MAAM,GAAGF,SAAS,CAACqB,OAAV,GAAoBC,KAApB,GAA4BlB,GAA5B,CAAgC,UAAUC,KAAV,EAAiB;AAC5D,WAAOP,wBAAwB,CAACC,KAAD,EAAQC,SAAR,EAAmBK,KAAnB,CAA/B;AACD,GAFY,CAAb;AAIA,SAAOkB,KAAK,CAACC,SAAN,CAAgBC,MAAhB,CAAuBC,KAAvB,CAA6B7B,WAA7B,EAA0CK,MAAM,CAACyB,IAAP,EAA1C,CAAP;AACD;;AAEDC,MAAM,CAACC,OAAP,GAAiBZ,uBAAjB","sourcesContent":["/**\r\n * Copyright (c) 2013-present, Facebook, Inc.\r\n * All rights reserved.\r\n *\r\n * This source code is licensed under the BSD-style license found in the\r\n * LICENSE file in the root directory of this source tree. An additional grant\r\n * of patent rights can be found in the PATENTS file in the same directory.\r\n *\r\n * @providesModule encodeInlineStyleRanges\r\n * @format\r\n * \r\n */\r\n\r\n'use strict';\r\n\r\nvar UnicodeUtils = require('fbjs/lib/UnicodeUtils');\r\n\r\nvar findRangesImmutable = require('./findRangesImmutable');\r\n\r\nvar areEqual = function areEqual(a, b) {\r\n  return a === b;\r\n};\r\nvar isTruthy = function isTruthy(a) {\r\n  return !!a;\r\n};\r\nvar EMPTY_ARRAY = [];\r\n\r\n/**\r\n * Helper function for getting encoded styles for each inline style. Convert\r\n * to UTF-8 character counts for storage.\r\n */\r\nfunction getEncodedInlinesForType(block, styleList, styleToEncode) {\r\n  var ranges = [];\r\n\r\n  // Obtain an array with ranges for only the specified style.\r\n  var filteredInlines = styleList.map(function (style) {\r\n    return style.has(styleToEncode);\r\n  }).toList();\r\n\r\n  findRangesImmutable(filteredInlines, areEqual,\r\n  // We only want to keep ranges with nonzero style values.\r\n  isTruthy, function (start, end) {\r\n    var text = block.getText();\r\n    ranges.push({\r\n      offset: UnicodeUtils.strlen(text.slice(0, start)),\r\n      length: UnicodeUtils.strlen(text.slice(start, end)),\r\n      style: styleToEncode\r\n    });\r\n  });\r\n\r\n  return ranges;\r\n}\r\n\r\n/*\r\n * Retrieve the encoded arrays of inline styles, with each individual style\r\n * treated separately.\r\n */\r\nfunction encodeInlineStyleRanges(block) {\r\n  var styleList = block.getCharacterList().map(function (c) {\r\n    return c.getStyle();\r\n  }).toList();\r\n  var ranges = styleList.flatten().toSet().map(function (style) {\r\n    return getEncodedInlinesForType(block, styleList, style);\r\n  });\r\n\r\n  return Array.prototype.concat.apply(EMPTY_ARRAY, ranges.toJS());\r\n}\r\n\r\nmodule.exports = encodeInlineStyleRanges;"]},"metadata":{},"sourceType":"script"}