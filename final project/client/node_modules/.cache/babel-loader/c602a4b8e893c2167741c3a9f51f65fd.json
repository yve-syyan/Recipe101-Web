{"ast":null,"code":"/**\r\n * Copyright (c) 2013-present, Facebook, Inc.\r\n * All rights reserved.\r\n *\r\n * This source code is licensed under the BSD-style license found in the\r\n * LICENSE file in the root directory of this source tree. An additional grant\r\n * of patent rights can be found in the PATENTS file in the same directory.\r\n *\r\n * @providesModule DraftPasteProcessor\r\n * @format\r\n * \r\n */\n'use strict';\n\nvar _assign = require('object-assign');\n\nvar _extends = _assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar CharacterMetadata = require('./CharacterMetadata');\n\nvar ContentBlock = require('./ContentBlock');\n\nvar ContentBlockNode = require('./ContentBlockNode');\n\nvar DraftFeatureFlags = require('./DraftFeatureFlags');\n\nvar Immutable = require('immutable');\n\nvar convertFromHTMLtoContentBlocks = require('./convertFromHTMLToContentBlocks');\n\nvar generateRandomKey = require('./generateRandomKey');\n\nvar getSafeBodyFromHTML = require('./getSafeBodyFromHTML');\n\nvar sanitizeDraftText = require('./sanitizeDraftText');\n\nvar List = Immutable.List,\n    Repeat = Immutable.Repeat;\nvar experimentalTreeDataSupport = DraftFeatureFlags.draft_tree_data_support;\nvar ContentBlockRecord = experimentalTreeDataSupport ? ContentBlockNode : ContentBlock;\nvar DraftPasteProcessor = {\n  processHTML: function processHTML(html, blockRenderMap) {\n    return convertFromHTMLtoContentBlocks(html, getSafeBodyFromHTML, blockRenderMap);\n  },\n  processText: function processText(textBlocks, character, type) {\n    return textBlocks.reduce(function (acc, textLine, index) {\n      textLine = sanitizeDraftText(textLine);\n      var key = generateRandomKey();\n      var blockNodeConfig = {\n        key: key,\n        type: type,\n        text: textLine,\n        characterList: List(Repeat(character, textLine.length))\n      }; // next block updates previous block\n\n      if (experimentalTreeDataSupport && index !== 0) {\n        var prevSiblingIndex = index - 1; // update previous block\n\n        var previousBlock = acc[prevSiblingIndex] = acc[prevSiblingIndex].merge({\n          nextSibling: key\n        });\n        blockNodeConfig = _extends({}, blockNodeConfig, {\n          prevSibling: previousBlock.getKey()\n        });\n      }\n\n      acc.push(new ContentBlockRecord(blockNodeConfig));\n      return acc;\n    }, []);\n  }\n};\nmodule.exports = DraftPasteProcessor;","map":{"version":3,"sources":["C:/Users/lepan/Desktop/CIS550-Project/final project/client/node_modules/draft-js/lib/DraftPasteProcessor.js"],"names":["_assign","require","_extends","target","i","arguments","length","source","key","Object","prototype","hasOwnProperty","call","CharacterMetadata","ContentBlock","ContentBlockNode","DraftFeatureFlags","Immutable","convertFromHTMLtoContentBlocks","generateRandomKey","getSafeBodyFromHTML","sanitizeDraftText","List","Repeat","experimentalTreeDataSupport","draft_tree_data_support","ContentBlockRecord","DraftPasteProcessor","processHTML","html","blockRenderMap","processText","textBlocks","character","type","reduce","acc","textLine","index","blockNodeConfig","text","characterList","prevSiblingIndex","previousBlock","merge","nextSibling","prevSibling","getKey","push","module","exports"],"mappings":"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","sourcesContent":["/**\r\n * Copyright (c) 2013-present, Facebook, Inc.\r\n * All rights reserved.\r\n *\r\n * This source code is licensed under the BSD-style license found in the\r\n * LICENSE file in the root directory of this source tree. An additional grant\r\n * of patent rights can be found in the PATENTS file in the same directory.\r\n *\r\n * @providesModule DraftPasteProcessor\r\n * @format\r\n * \r\n */\r\n\r\n'use strict';\r\n\r\nvar _assign = require('object-assign');\r\n\r\nvar _extends = _assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\r\n\r\nvar CharacterMetadata = require('./CharacterMetadata');\r\nvar ContentBlock = require('./ContentBlock');\r\nvar ContentBlockNode = require('./ContentBlockNode');\r\nvar DraftFeatureFlags = require('./DraftFeatureFlags');\r\nvar Immutable = require('immutable');\r\n\r\nvar convertFromHTMLtoContentBlocks = require('./convertFromHTMLToContentBlocks');\r\nvar generateRandomKey = require('./generateRandomKey');\r\nvar getSafeBodyFromHTML = require('./getSafeBodyFromHTML');\r\nvar sanitizeDraftText = require('./sanitizeDraftText');\r\n\r\nvar List = Immutable.List,\r\n    Repeat = Immutable.Repeat;\r\n\r\n\r\nvar experimentalTreeDataSupport = DraftFeatureFlags.draft_tree_data_support;\r\nvar ContentBlockRecord = experimentalTreeDataSupport ? ContentBlockNode : ContentBlock;\r\n\r\nvar DraftPasteProcessor = {\r\n  processHTML: function processHTML(html, blockRenderMap) {\r\n    return convertFromHTMLtoContentBlocks(html, getSafeBodyFromHTML, blockRenderMap);\r\n  },\r\n  processText: function processText(textBlocks, character, type) {\r\n    return textBlocks.reduce(function (acc, textLine, index) {\r\n      textLine = sanitizeDraftText(textLine);\r\n      var key = generateRandomKey();\r\n\r\n      var blockNodeConfig = {\r\n        key: key,\r\n        type: type,\r\n        text: textLine,\r\n        characterList: List(Repeat(character, textLine.length))\r\n      };\r\n\r\n      // next block updates previous block\r\n      if (experimentalTreeDataSupport && index !== 0) {\r\n        var prevSiblingIndex = index - 1;\r\n        // update previous block\r\n        var previousBlock = acc[prevSiblingIndex] = acc[prevSiblingIndex].merge({\r\n          nextSibling: key\r\n        });\r\n        blockNodeConfig = _extends({}, blockNodeConfig, {\r\n          prevSibling: previousBlock.getKey()\r\n        });\r\n      }\r\n\r\n      acc.push(new ContentBlockRecord(blockNodeConfig));\r\n\r\n      return acc;\r\n    }, []);\r\n  }\r\n};\r\n\r\nmodule.exports = DraftPasteProcessor;"]},"metadata":{},"sourceType":"script"}