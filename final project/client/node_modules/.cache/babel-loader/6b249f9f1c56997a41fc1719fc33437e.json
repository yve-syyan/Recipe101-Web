{"ast":null,"code":"/**\r\n * Copyright (c) 2013-present, Facebook, Inc.\r\n * All rights reserved.\r\n *\r\n * This source code is licensed under the BSD-style license found in the\r\n * LICENSE file in the root directory of this source tree. An additional grant\r\n * of patent rights can be found in the PATENTS file in the same directory.\r\n *\r\n * @providesModule getEntityKeyForSelection\r\n * @format\r\n * \r\n */\n'use strict';\n/**\r\n * Return the entity key that should be used when inserting text for the\r\n * specified target selection, only if the entity is `MUTABLE`. `IMMUTABLE`\r\n * and `SEGMENTED` entities should not be used for insertion behavior.\r\n */\n\nfunction getEntityKeyForSelection(contentState, targetSelection) {\n  var entityKey;\n\n  if (targetSelection.isCollapsed()) {\n    var key = targetSelection.getAnchorKey();\n    var offset = targetSelection.getAnchorOffset();\n\n    if (offset > 0) {\n      entityKey = contentState.getBlockForKey(key).getEntityAt(offset - 1);\n\n      if (entityKey !== contentState.getBlockForKey(key).getEntityAt(offset)) {\n        return null;\n      }\n\n      return filterKey(contentState.getEntityMap(), entityKey);\n    }\n\n    return null;\n  }\n\n  var startKey = targetSelection.getStartKey();\n  var startOffset = targetSelection.getStartOffset();\n  var startBlock = contentState.getBlockForKey(startKey);\n  entityKey = startOffset === startBlock.getLength() ? null : startBlock.getEntityAt(startOffset);\n  return filterKey(contentState.getEntityMap(), entityKey);\n}\n/**\r\n * Determine whether an entity key corresponds to a `MUTABLE` entity. If so,\r\n * return it. If not, return null.\r\n */\n\n\nfunction filterKey(entityMap, entityKey) {\n  if (entityKey) {\n    var entity = entityMap.__get(entityKey);\n\n    return entity.getMutability() === 'MUTABLE' ? entityKey : null;\n  }\n\n  return null;\n}\n\nmodule.exports = getEntityKeyForSelection;","map":{"version":3,"sources":["C:/Users/lepan/Desktop/CIS550-Project/final project/client/node_modules/draft-js/lib/getEntityKeyForSelection.js"],"names":["getEntityKeyForSelection","contentState","targetSelection","entityKey","isCollapsed","key","getAnchorKey","offset","getAnchorOffset","getBlockForKey","getEntityAt","filterKey","getEntityMap","startKey","getStartKey","startOffset","getStartOffset","startBlock","getLength","entityMap","entity","__get","getMutability","module","exports"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;;AACA,SAASA,wBAAT,CAAkCC,YAAlC,EAAgDC,eAAhD,EAAiE;AAC/D,MAAIC,SAAJ;;AAEA,MAAID,eAAe,CAACE,WAAhB,EAAJ,EAAmC;AACjC,QAAIC,GAAG,GAAGH,eAAe,CAACI,YAAhB,EAAV;AACA,QAAIC,MAAM,GAAGL,eAAe,CAACM,eAAhB,EAAb;;AACA,QAAID,MAAM,GAAG,CAAb,EAAgB;AACdJ,MAAAA,SAAS,GAAGF,YAAY,CAACQ,cAAb,CAA4BJ,GAA5B,EAAiCK,WAAjC,CAA6CH,MAAM,GAAG,CAAtD,CAAZ;;AACA,UAAIJ,SAAS,KAAKF,YAAY,CAACQ,cAAb,CAA4BJ,GAA5B,EAAiCK,WAAjC,CAA6CH,MAA7C,CAAlB,EAAwE;AACtE,eAAO,IAAP;AACD;;AACD,aAAOI,SAAS,CAACV,YAAY,CAACW,YAAb,EAAD,EAA8BT,SAA9B,CAAhB;AACD;;AACD,WAAO,IAAP;AACD;;AAED,MAAIU,QAAQ,GAAGX,eAAe,CAACY,WAAhB,EAAf;AACA,MAAIC,WAAW,GAAGb,eAAe,CAACc,cAAhB,EAAlB;AACA,MAAIC,UAAU,GAAGhB,YAAY,CAACQ,cAAb,CAA4BI,QAA5B,CAAjB;AAEAV,EAAAA,SAAS,GAAGY,WAAW,KAAKE,UAAU,CAACC,SAAX,EAAhB,GAAyC,IAAzC,GAAgDD,UAAU,CAACP,WAAX,CAAuBK,WAAvB,CAA5D;AAEA,SAAOJ,SAAS,CAACV,YAAY,CAACW,YAAb,EAAD,EAA8BT,SAA9B,CAAhB;AACD;AAED;AACA;AACA;AACA;;;AACA,SAASQ,SAAT,CAAmBQ,SAAnB,EAA8BhB,SAA9B,EAAyC;AACvC,MAAIA,SAAJ,EAAe;AACb,QAAIiB,MAAM,GAAGD,SAAS,CAACE,KAAV,CAAgBlB,SAAhB,CAAb;;AACA,WAAOiB,MAAM,CAACE,aAAP,OAA2B,SAA3B,GAAuCnB,SAAvC,GAAmD,IAA1D;AACD;;AACD,SAAO,IAAP;AACD;;AAEDoB,MAAM,CAACC,OAAP,GAAiBxB,wBAAjB","sourcesContent":["/**\r\n * Copyright (c) 2013-present, Facebook, Inc.\r\n * All rights reserved.\r\n *\r\n * This source code is licensed under the BSD-style license found in the\r\n * LICENSE file in the root directory of this source tree. An additional grant\r\n * of patent rights can be found in the PATENTS file in the same directory.\r\n *\r\n * @providesModule getEntityKeyForSelection\r\n * @format\r\n * \r\n */\r\n\r\n'use strict';\r\n\r\n/**\r\n * Return the entity key that should be used when inserting text for the\r\n * specified target selection, only if the entity is `MUTABLE`. `IMMUTABLE`\r\n * and `SEGMENTED` entities should not be used for insertion behavior.\r\n */\r\nfunction getEntityKeyForSelection(contentState, targetSelection) {\r\n  var entityKey;\r\n\r\n  if (targetSelection.isCollapsed()) {\r\n    var key = targetSelection.getAnchorKey();\r\n    var offset = targetSelection.getAnchorOffset();\r\n    if (offset > 0) {\r\n      entityKey = contentState.getBlockForKey(key).getEntityAt(offset - 1);\r\n      if (entityKey !== contentState.getBlockForKey(key).getEntityAt(offset)) {\r\n        return null;\r\n      }\r\n      return filterKey(contentState.getEntityMap(), entityKey);\r\n    }\r\n    return null;\r\n  }\r\n\r\n  var startKey = targetSelection.getStartKey();\r\n  var startOffset = targetSelection.getStartOffset();\r\n  var startBlock = contentState.getBlockForKey(startKey);\r\n\r\n  entityKey = startOffset === startBlock.getLength() ? null : startBlock.getEntityAt(startOffset);\r\n\r\n  return filterKey(contentState.getEntityMap(), entityKey);\r\n}\r\n\r\n/**\r\n * Determine whether an entity key corresponds to a `MUTABLE` entity. If so,\r\n * return it. If not, return null.\r\n */\r\nfunction filterKey(entityMap, entityKey) {\r\n  if (entityKey) {\r\n    var entity = entityMap.__get(entityKey);\r\n    return entity.getMutability() === 'MUTABLE' ? entityKey : null;\r\n  }\r\n  return null;\r\n}\r\n\r\nmodule.exports = getEntityKeyForSelection;"]},"metadata":{},"sourceType":"script"}